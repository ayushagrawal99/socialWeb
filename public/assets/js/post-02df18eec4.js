{let e=function(){console.log("creating psot by AJAX");let e=$("#form-post");e.submit((function(o){o.preventDefault(),$.ajax({type:"POST",url:"/post/create",data:e.serialize(),success:function(e){let o=t(e.data.post);$("#post-container>ul").prepend(o),$("textarea").val(""),n($(" .delete-post",o)),new postComment(e.data.post._id),new Togglelike($(" .toggle-like-button",o))},error:function(e){console.log(e.responseText)}})}))},t=function(e){return $(`<li id="post-${e._id}" class="post-list">\n            <div id="post-info">\n\n\n\n\n                ${e.user.avatar.length>0?`<img class="post-info-img" src="${e.user.avatar[e.user.avatar.length-1]}" alt="${e.user.name}">`:'<img src="/images/avtar_pic-8b6d919964.jpg" alt="" style="height: 40px; width: 40px;">'}\n\n \n\n                <a href="/users/profile/${e.user._id}"><p class="post-user">${e.user.name}</p></a>\n            </div>\n            <p class="post-cont">${e.content}</p>\n            <a class="toggle-like-button" data-like="0" href="/likes/toggle/?id=${e._id}&type=Post">${e.likes.length}<i class="far fa-thumbs-up"></i> LIKE</a>\n            <a href="/post/delete/${e._id}" class="delete-post"><i class="far fa-trash-alt"></i><span>Delete</span></a>\n        \n            <div id="comment">\n                <form class="comment-form" action="/comment/create" method="POST" id="new-post-comment-${e._id}">\n                    <input type="text" name="content" placeholder="comment here.." required>\n                    <input type="hidden" name="post" value="${e._id}">\n                    <input type="submit" value="comment">\n                </form>\n                <div id="comment-container">\n                    <ul id="post-comment-${e._id}">\n                        \n                    </ul>\n                </div>\n            </div>\n        </li>`)},n=function(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#post-"+e.data.id).remove()},error:function(e){console.log(e.responseText)}})}))},o=function(){$("#post-container>ul>li").each((function(){let e=$(this),t=$(" .delete-post",e);n(t);let o=e.prop("id").split("-")[1];new postComment(o)}))};e(),o()}