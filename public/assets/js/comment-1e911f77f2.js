class postComment{constructor(e){this.postID=e,this.newCommentForm=$("#new-post-comment-"+e),this.commentContainer=$("#comment-container>ul>li"),this.createComment(e);let t=this;$(" .delete-comment",t.commentContainer).each((function(){t.deleteComment($(this))}))}createComment(e){console.log(e);let t=this;t.newCommentForm.submit((function(n){n.preventDefault();$.ajax({type:"post",url:"/comment/create",data:$(this).serialize(),success:function(n){let m=t.commentDom(n.data.comment);$("#post-comment-"+e).prepend(m),$("input[type=text").val(""),t.deleteComment($(" .delete-comment",m)),new Togglelike($(" .toggle-like-button",m))},error:function(e){console.log(e)}})}))}commentDom(e){return $(`<li id="comment-${e._id}" class="comment-list">\n        <div id="comment-info">\n\n            ${e.user.avatar.length>0?`<img class="cmnt-img" src="${e.user.avatar[e.user.avatar.length-1]}"" alt="${e.user.name}">`:'<img src="/images/avtar_pic-8b6d919964.jpg" alt="" style="height: 30px; width: 30px;">'}\n\n            <a href="/users/profile/${e.user._id}"><p class="cmt-name">${e.user.name}</p></a>\n        </div>\n        <p class="cmnt-cnt">${e.content}</p>\n        <a id="like" class="toggle-like-button" data-like="0" href="/likes/toggle/?id=${e._id}&type=Comment">${e.likes.length} <i class="far fa-thumbs-up"></i> LIKE</a>\n        <a href="/comment/delete/${e._id}" class="delete-comment"><i class="far fa-trash-alt"></i><span>Delete</span></a>\n    </li>`)}deleteComment(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#comment-"+e.data.id).remove()},error:function(e){console.log(e)}})}))}}